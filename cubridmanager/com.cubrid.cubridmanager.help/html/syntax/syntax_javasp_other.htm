
<html>
<head>
<title>다른 데이터베이스 연결</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link type="text/css" rel="stylesheet" href="../nhelp.css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 8" />
</head>
<body><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = document.location.href;
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = strUrl.substring(0, n);
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("CUBRID SQL 설명서\nJava 저장 함수/프로시저\n다른 데이터베이스 연결");
         if(strUrl.toLowerCase().indexOf("/help/")==-1){

    addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

    }


	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);if(strUrl.toLowerCase().indexOf("/help/")==-1){

         document.write("<p style=\"text-align:left\"> ");

AddMasterBreadcrumbs("../index.htm", "", "&nbsp;&gt;&nbsp;", "홈", "../cubrid.htm");

document.write("<a href=\"syntax.htm\">CUBRID SQL 설명서<\/a> &nbsp;&gt;&nbsp; <a href=\"syntax_javasp_overview.htm\">Java 저장 함수/프로시저<\/a> &nbsp;&gt;&nbsp; 다른 데이터베이스 연결<\/p>");}


	if (window.setRelStartPage)
	{
	setRelStartPage("../index.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script>
<h3>다른 데이터베이스 연결</h3>
<p>서버 측 JDBC 드라이버를 사용하더라도 현재 연결된 데이터베이스를 사용하지 않고, 외부의 다른 데이터베이스에 연결할 수도 있다. 외부의 데이터베이스에 대한 Connection을 얻는 것은 일반적인 JDBC Connection과 다르지 않다. 이에 대한 자세한 내용은 JDBC API를 참조한다.</p>
<p>다른 데이터베이스에 연결하는 경우, Java 메소드의 수행이 종료되더라도 CUBRID 데이터베이스와의 Connection이 자동으로 종료되지 않는다. 따라서, 반드시 Connection 종료를 명시해주어야 <span class="keyword">COMMIT</span>, <span class="keyword">ROLLBACK</span>과 같은 트랜잭션 연산이 해당 데이터베이스에 반영된다. 즉, Java 저장 함수/프로시저를 호출한 데이터베이스와 실제 연결된 데이터베이스가 다르기 때문에 별도의 트랜잭션으로 수행되는 것이다.</p>
<p class="code">import java.sql.*;<br />
<br />
public class selectData {<br />
&#160; public static void SearchSubway(String[] args) throws Exception {<br />
<br />
&#160; Connection conn = null;<br />
&#160; Statement stmt = null;<br />
&#160; ResultSet rs = null;<br />
<br />
&#160; try {<br />
&#160;&#160;&#160; Class.forName("cubrid.jdbc.driver.CUBRIDDriver");<br />
&#160;&#160;&#160; conn =<br />
DriverManager.getConnection("jdbc:CUBRID:localhost:33000:demodb:::","","");<br />
<br />
&#160;&#160;&#160; String sql = "select line_id, line from line";<br />
&#160;&#160;&#160; stmt = conn.createStatement();<br />
&#160;&#160;&#160; rs = stmt.executeQuery(sql);<br />
&#160;&#160;&#160; while(rs.next()) {<br />
&#160;&#160;&#160;&#160;&#160;&#160;int host_year = rs.getString("host_year");<br />
&#160;&#160;&#160;&#160;&#160;&#160;String host_nation = rs.getString("host_nation");<br />
&#160;&#160;&#160;&#160;&#160;&#160;System.out.println("Host Year ==&gt; " + host_year);<br />
&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(" Host Nation==&gt; " + host_nation);<br />
&#160;&#160;&#160;&#160;&#160;&#160;System.out.println("\n=========\n");<br />
&#160;&#160;&#160;&#160;}<br />
&#160;&#160;&#160; rs.close();<br />
&#160;&#160;&#160;&#160;stmt.close();<br />
&#160;&#160;&#160;&#160;conn.close();<br />
&#160;&#160;&#160;&#160;} catch ( SQLException e ) {<br />
&#160;&#160;&#160; &#160;&#160; &#160; System.err.println(e.getMessage());<br />
&#160;&#160;&#160;&#160;} catch ( Exception e ) {<br />
&#160;&#160;&#160; &#160;&#160; &#160; System.err.println(e.getMessage());<br />
&#160;&#160;&#160;&#160;} finally {<br />
&#160;&#160;&#160;&#160;&#160; &#160; &#160; if ( conn != null ) conn.close();<br />
&#160;&#160;&#160;&#160;}<br />
&#160;&#160;}<br />
}</p>
<p>수행 중인 Java 저장 함수/프로시저가 데이터베이스 서버의 JVM에서만 구동되어야 할 때, Java 프로그램 소스에서 System.getProperty("cubrid.server.version")를 호출함으로써 어디서 수행되는 지를 점검할 수 있다. 결과 값은 데이터베이스에서 호출하면 데이터베이스 버전이 되고, 그 외는 <span class="keyword">NULL</span>이 된다.</p>
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>
