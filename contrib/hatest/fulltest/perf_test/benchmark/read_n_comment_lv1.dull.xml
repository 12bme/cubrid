<workload name="Hotspot Read and HA Benchmark Specification">
  <!-- ================================================================== -->
  <!-- REPORTING -->
  <!-- ================================================================== -->
<!--
BOARD_ID  ARTICLE_ID            ATTACH_COUNTER  COMMENT_COUNTER  ARTICLE_CATEGORY  CONTENT_LEN
===================================================================================================
            1  9761                               7               52                 5          191
            1  11133                              8               54                 1          160
            1  16500                              6               51                 2          190
            1  44533                              6               54                 1          120
            1  63445                              5               56                 1          195
            1  89767                              8               58                 1          197
-->
  <!-- ================================================================== -->
  <!-- SAMPLE SPACE -->
  <!-- ================================================================== -->
  <samplespace>
    <space name="mix1">
      <sample name="BOARD_ID" type="INT" value="1,1,1,1,1,1"/>
      <sample name="ARTICLE_ID" type="STRING" 
	value="9761,11133,16500,44533,63445,77411" />
    </space>
    <space name="mix2">
      <sample name="BOARD_ID" type="INT" value="1,1,1,1,1,1"/>
      <sample name="ARTICLE_ID" type="STRING" 
	value="9761,11133,16500,44533,63445,77411" />
      <sample name="PAGE_START_NO" type="INT" value="0" />
      <sample name="PAGE_END_NO" type="INT" value="20" />
      <sample name="BOARD_ID_LV" type="INT" value="1" />
      <sample name="ARTICLE_CATEGORY_LV" type="INT" value="2"/>
    </space>
    <space name="mix3">
      <sample name="BOARD_ID" type="INT" value="1,1,1"/>
      <sample name="ARTICLE_CATEGORY" type="INT" value="2,2,5"/>
      <sample name="PAGE_START_NO" type="INT" value="0" />
      <sample name="PAGE_END_NO" type="INT" value="20" />
      <sample name="BOARD_ID_LV" type="INT" value="1" />
      <sample name="ARTICLE_CATEGORY_LV" type="INT" value="2"/>
    </space>
    <space name="mix4">
      <sample name="BOARD_ID" type="INT" value="1,1,1,1,1,1,1,1,1,1"/>
      <sample name="ARTICLE_ID" type="STRING" 
	value="9762,11133,15529,16500,33421,44533,51234,63448,69000,77412" />
    </space>
    <space name="mix5">
      <sample name="ARTICLE_ID" type="STRING" 
	value="9762,11133,15529,16500,33421,44533,51234,63448,69000,77412" />
    </space>
  </samplespace>
  <!-- ================================================================== -->
  <!-- TRANSACTION DEFINITION -->
  <!-- ================================================================== -->
  <trdef>
    <!-- ================================================================ -->
    <transaction name="tr1">
      <desc> Select_Article_Info_And_Update_Read_Counter </desc>
      <input>
	<map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output>
	<col name="BOARD_ID" type="INT" export="BOARD_ID" />
	<col name="ARTICLE_ID" type="STRING" export="ARTICLE_ID" />
	<col name="ARTICLE_NO" type="INT" export="ARTICLE_NO" />
	<col name="REPLY_NO_SEQ" export="REPLY_NO_SEQ"/>
	<col name="REPLY_DEPTH" type="INT" export="REPLY_DEPTH" />
	<col name="ARTICLE_TITLE" />
	<col name="ARTICLE_TYPE" />
	<col name="ARTICLE_CATEGORY" type="INT" export="ARTICLE_CATEGORY"/>
	<col name="WRITER_ID" />
	<col name="WRITER_NICKNAME" />
	<col name="WRITER_INFO" />
	<col name="POSTED_TIME" type="TIMESTAMP"/>
	<col name="HAS_ATTACHMENTS" export="HAS_ATTACHMENTS" />
	<col name="READ_COUNTER" type="INT" />
	<col name="RECOMMENDED_COUNTER" type="INT"/>
	<col name="COMMENT_COUNTER" type="INT" export="COMMENT_COUNTER" />
	<col name="SCRAP_COUNTER" type="INT" />
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr2">
      <desc> Select_Content </desc>
      <input>
	<map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output>
	<col name="CONTENT" />
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr3">
      <desc> Select_Attachment_List </desc>
      <cond>
	<item expr="HAS_ATTACHMENTS" op="eq" value="Y" />
      </cond>
      <input>
	<map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output>
	<col name="ATTACHMENT_NO" type="INT" />
	<col name="ATTACHMENT_NAME" />
	<col name="ATTACHMENT_TYPE" />
	<col name="ATTACHMENT" />
	<col name="ATTACHMENT_SIZE" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr4">
      <desc> Select_Comment_List </desc>
      <cond>
	<item expr="COMMENT_COUNTER" op="gt" value="1" type="INT"/>
      </cond>
      <input>
	<map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output>
	<col name="COMMENT_NO" type="INT" />
	<col name="COMMENT_TEXT" />
	<col name="COMMENT_STATUS" />
	<col name="WRITER_ID" />
	<col name="WRITER_NICKNAME" />
	<col name="POSTED_TIME" type="TIMESTAMP"/>
	<col name="RECOMMENDED_COUNTER" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr5">
      <desc> Select_Before_And_After_Article_Info </desc>
      <input>
	<map expr="BOARD_ID" name="board_id" type="INT"/>
	<map expr="ARTICLE_NO" name="article_no" type="INT"/>
	<map expr="ARTICLE_CATEGORY" name="article_category" type="INT"/>
      </input>
      <output> 
	<col name="ARTICLE_ID" type="STRING" />
	<col name="ARTICLE_NO" type="INT" />
	<col name="REPLY_NO_SEQ" />
	<col name="REPLY_DEPTH" type="INT"/>
	<col name="ARTICLE_TITLE" />
	<col name="PREVIEW_TEXT" />
	<col name="THUMBNAIL_IMAGE" />
	<col name="ARTICLE_TYPE" />
	<col name="ARTICLE_CATEGORY" type="INT"/>
	<col name="ARTICLE_STATUS" />
	<col name="WRITER_ID" />
	<col name="WRITER_NICKNAME" />
	<col name="POSTED_TIME" type="TIMESTAMP"/>
	<col name="HAS_ATTACHMENTS" />
	<col name="IS_SCRAPED" />
	<col name="IS_POPULAR" />
	<col name="READ_COUNTER" type="INT"/>
	<col name="RECOMMENDED_COUNTER" type="INT"/>
	<col name="COMMENT_COUNTER" type="INT"/>
	<col name="SCRAP_COUNTER" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr6">
      <desc> Select_Reply_Articles_Info </desc>
      <input>
	<map expr="BOARD_ID" name="board_id" type="INT"/>
	<map expr="ARTICLE_NO" name="article_no" type="INT"/>
	<map expr="REPLY_NO_SEQ" name="reply_no_seq" />
	<map expr="REPLY_DEPTH" name="reply_depth" type="INT"/>
	<map expr="ARTICLE_CATEGORY" name="article_category" type="INT"/>
      </input>
      <output>
	<col name="REPLY_NO_SEQ" />
	<col name="REPLY_DEPTH" type="INT"/>
	<col name="ARTICLE_TITLE" />
	<col name="PREVIEW_TEXT" />
	<col name="THUMBNAIL_IMAGE" />
	<col name="ARTICLE_TYPE" />
	<col name="ARTICLE_CATEGORY" type="INT"/>
	<col name="ARTICLE_STATUS" />
	<col name="WRITER_ID" />
	<col name="WRITER_NICKNAME" />
	<col name="POSTED_TIME" type="TIMESTAMP"/>
	<col name="HAS_ATTACHMENTS" />
	<col name="IS_SCRAPED" />
	<col name="IS_POPULAR" />
	<col name="READ_COUNTER" type="INT"/>
	<col name="RECOMMENDED_COUNTER" type="INT"/>
	<col name="COMMENT_COUNTER" type="INT"/>
	<col name="SCRAP_COUNTER" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr7">
      <desc> Select_Count_Board </desc>
      <input>
	<map expr="BOARD_ID_LV" name="board_id_lv" type="INT"/>
	<map expr="ARTICLE_CATEGORY_LV" name="article_category_lv" type="INT"/>
      </input>
      <output>
	<col name="COUNT_ALL"  type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr8">
      <desc> Select_List_Page_By_Posted_Time </desc>
      <input>
	<map expr="BOARD_ID" name="board_id" type="INT"/>
	<map expr="ARTICLE_CATEGORY" name="article_category" type="INT"/>
	<map expr="PAGE_START_NO" name="page_start_no" type="INT"/>
	<map expr="PAGE_END_NO" name="page_end_no" type="INT"/>
      </input>
      <output>
	<col name="ARTICLE_ID" type="STRING" />
	<col name="ARTICLE_NO" type="INT" />
	<col name="REPLY_NO_SEQ" />
	<col name="REPLY_DEPTH" type="INT"/>
	<col name="ARTICLE_TITLE" />
	<col name="PREVIEW_TEXT" />
	<col name="THUMBNAIL_IMAGE" />
	<col name="ARTICLE_TYPE" />
	<col name="ARTICLE_CATEGORY" type="INT"/>
	<col name="WRITER_ID" />
	<col name="WRITER_NICKNAME" />
	<col name="WRITER_INFO" />
	<col name="POSTED_TIME" type="TIMESTAMP"/>
	<col name="HAS_ATTACHMENTS" />
	<col name="IS_SCRAPED" />
	<col name="IS_POPULAR" />
	<col name="READ_COUNTER" type="INT"/>
	<col name="RECOMMENDED_COUNTER" type="INT"/>
	<col name="COMMENT_COUNTER" type="INT"/>
	<col name="SCRAP_COUNTER" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
    <transaction name="tr9">
      <desc> Insert </desc>
      <input>
	<map expr="BOARD_ID" name="board_id" type="INT"/>
	<map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output/>
    </transaction>
    <transaction name="tr10">
      <desc> Select_Comment_List </desc>
      <input>
        <map expr="ARTICLE_ID" name="article_id" type="STRING"/>
      </input>
      <output>
        <col name="COMMENT_NO" type="INT" />
        <col name="COMMENT_TEXT" />
        <col name="COMMENT_STATUS" />
        <col name="WRITER_ID" />
        <col name="WRITER_NICKNAME" />
        <col name="POSTED_TIME" type="TIMESTAMP"/>
        <col name="RECOMMENDED_COUNTER" type="INT"/>
      </output>
    </transaction>
    <!-- ================================================================ -->
  </trdef>
  <!-- ================================================================== -->
  <!-- ================================================================== -->
  <trmix> 
    <mix ss="mix1">
      <step transaction="tr1" />
      <step transaction="tr2" />
      <step transaction="tr3" />
      <step transaction="tr4" />
      <step transaction="tr5" />
      <step transaction="tr6" />
      <step sleep="5" />
    </mix>
    <mix ss="mix2">
      <step transaction="tr1" />
      <step transaction="tr2" />
      <step transaction="tr3" />
      <step transaction="tr4" />
      <step transaction="tr5" />
      <step transaction="tr6" />
      <step transaction="tr7" />
      <step transaction="tr8" />
      <step sleep="5" />
    </mix>
    <mix ss="mix3">
      <step transaction="tr7" />
      <step transaction="tr8" />
      <step sleep="50" />
    </mix>
    <mix ss="mix4">
      <step sleep="50" />
      <step transaction="tr9" />
      <step sleep="50" />
    </mix>
    <mix ss="mix5">
      <step transaction="tr10" />
      <step sleep="100" />
    </mix>
  </trmix>
</workload>
